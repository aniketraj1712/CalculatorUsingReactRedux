{"ast":null,"code":"var _jsxFileName = \"/Users/anikraj/Downloads/engagePulse/scientific-calculator-app/src/App.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { updateCalculation, clearCalculation, equalToCalculation, signCalculation, squareCalculation, squareRootCalculation } from './actions';\nimport CalcButton from './components/CalcButton'; //import ScientificCalcButton from './components/ScientificCalcButton';\n\nclass CalculatorComponent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toggle: true\n    };\n  }\n\n  componentDidMount() {\n    // Force scroll on the display\n    // I do this on mount in case reducer is already populated\n    this._forceScrollOnDisplay();\n  }\n\n  componentDidUpdate() {\n    // Force scroll on the display\n    // this function gets called on component update\n    this._forceScrollOnDisplay();\n  } // Replace the operator chars add a span for styling\n  // and replace division and multiplication symbols\n\n\n  _replaceChars(value) {\n    if (value.length === 2 && value[0] === 0 && value[1] < 0) {\n      var val = value;\n      val.shift();\n      value = value.join(\"\");\n      value = value.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n      value = value.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n      value = value.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n      value = value.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n      val = val.join(\"\");\n      val = val.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n      val = val.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n      val = val.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n      val = val.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n      return val;\n    }\n\n    value = value.join(\"\");\n    value = value.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n    value = value.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n    value = value.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n    value = value.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n    return value;\n  }\n\n  _forceScrollOnDisplay() {\n    // Force scroll on div, put a value in here\n    // instead of calculating the offset\n    // This keeps the latest numbers in display\n    this.refs.calculationDisplay.scrollLeft = 10000;\n    this.refs.resultDisplay.scrollLeft = 10000;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"calculator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"calculator-results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: \"calculationDisplay\",\n      className: \"calculationDisplay\",\n      dangerouslySetInnerHTML: {\n        __html: this.props.calculation.length ? this._replaceChars(this.props.calculation) : 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      ref: \"resultDisplay\",\n      className: \"resultDisplay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.props.result)), React.createElement(\"div\", {\n      className: \"calculator-inputs-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(CalcButton, {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      text: \"Add(+)\",\n      value: \"+\",\n      additionalClass: \"operator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"calculator-inputs-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(CalcButton, {\n      value: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      text: \"Subtract(-)\",\n      value: \"-\",\n      additionalClass: \"operator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"calculator-inputs-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(CalcButton, {\n      value: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      text: \"Multiply(*)\",\n      value: \"*\",\n      additionalClass: \"operator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"calculator-inputs-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(CalcButton, {\n      value: \"clear\",\n      additionalClass: \"clear\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      value: \"=\",\n      additionalClass: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(CalcButton, {\n      text: \"Divide(/)\",\n      value: \"/\",\n      additionalClass: \"operator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"calculator-inputs-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      value: \"scientificMode\",\n      className: \"scientificMode\",\n      onClick: () => {\n        this.setState({\n          toggle: !this.state.toggle\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Scientific Mode\"), React.createElement(\"button\", {\n      id: \"sign\",\n      value: \"sign\",\n      className: \"smode\",\n      disabled: this.state.toggle,\n      onClick: () => {\n        this.props.signCalculation(this.props.result);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Sign\"), React.createElement(\"button\", {\n      id: \"scientific\",\n      value: \"square\",\n      className: \"smode\",\n      disabled: this.state.toggle,\n      onClick: () => {\n        this.props.squareCalculation(this.props.result);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Square\"), React.createElement(\"button\", {\n      id: \"scientific\",\n      value: \"square_root\",\n      className: \"smode\",\n      disabled: this.state.toggle,\n      onClick: () => {\n        this.props.squareRootCalculation(this.props.result);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Square Root\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateCalculation: (inputValue, currentState, currentResult) => dispatch(updateCalculation(inputValue, currentState, currentResult)),\n  clearCalculation: () => dispatch(clearCalculation()),\n  equalToCalculation: () => dispatch(equalToCalculation()),\n  signCalculation: currentResult => dispatch(signCalculation(currentResult)),\n  squareCalculation: currentResult => dispatch(squareCalculation(currentResult)),\n  squareRootCalculation: currentResult => dispatch(squareRootCalculation(currentResult))\n});\n\nconst mapStateToProps = state => ({\n  calculation: state.calculation,\n  result: state.result\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CalculatorComponent);","map":{"version":3,"sources":["/Users/anikraj/Downloads/engagePulse/scientific-calculator-app/src/App.js"],"names":["React","Component","connect","updateCalculation","clearCalculation","equalToCalculation","signCalculation","squareCalculation","squareRootCalculation","CalcButton","CalculatorComponent","state","toggle","componentDidMount","_forceScrollOnDisplay","componentDidUpdate","_replaceChars","value","length","val","shift","join","replace","refs","calculationDisplay","scrollLeft","resultDisplay","render","__html","props","calculation","result","setState","mapDispatchToProps","dispatch","inputValue","currentState","currentResult","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { updateCalculation, clearCalculation,equalToCalculation,signCalculation,squareCalculation,squareRootCalculation } from './actions';\nimport CalcButton from './components/CalcButton';\n//import ScientificCalcButton from './components/ScientificCalcButton';\n\nclass CalculatorComponent extends Component {\n\n  state = {toggle:true};\n\n  componentDidMount() {\n    // Force scroll on the display\n    // I do this on mount in case reducer is already populated\n    this._forceScrollOnDisplay();\n  }\n  \n  componentDidUpdate() {\n    // Force scroll on the display\n    // this function gets called on component update\n    this._forceScrollOnDisplay();\n  }\n\n  // Replace the operator chars add a span for styling\n  // and replace division and multiplication symbols\n  _replaceChars(value) {\n    if(value.length===2 && value[0]===0 && value[1]<0){\n      var val = value;\n      val.shift();\n      value = value.join(\"\");\n      value = value.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n      value = value.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n      value = value.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n      value = value.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n      val = val.join(\"\");\n      val = val.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n      val = val.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n      val = val.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n      val = val.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n      return val;\n    }\n    value = value.join(\"\");\n    value = value.replace(/\\//g, '<span class=\"operatorStyle\">÷</span>');\n    value = value.replace(/\\*/g, '<span class=\"operatorStyle\">×</span>');\n    value = value.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\n    value = value.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\n    return value;\n  }\n\n  _forceScrollOnDisplay() {\n    // Force scroll on div, put a value in here\n    // instead of calculating the offset\n    // This keeps the latest numbers in display\n    this.refs.calculationDisplay.scrollLeft = 10000;\n    this.refs.resultDisplay.scrollLeft = 10000;\n  }\n\n  render() {\n    return (\n        <div className='calculator'>\n          <div className='calculator-results'>\n            <div ref='calculationDisplay' className='calculationDisplay' dangerouslySetInnerHTML={{ __html: this.props.calculation.length ? this._replaceChars(this.props.calculation) : 0 }} />\n            <div ref='resultDisplay' className='resultDisplay'>{this.props.result}</div>\n          </div>\n          \n          <div className='calculator-inputs-row'>\n            <CalcButton value={1} />\n            <CalcButton value={2} />\n            <CalcButton value={3} />\n            <CalcButton text =\"Add(+)\" value=\"+\" additionalClass=\"operator\" />\n          </div>\n          \n          <div className='calculator-inputs-row'>\n            <CalcButton value={4} />\n            <CalcButton value={5} />\n            <CalcButton value={6} />\n            <CalcButton text='Subtract(-)' value=\"-\" additionalClass=\"operator\" />\n          </div>\n          <div className='calculator-inputs-row'>\n            <CalcButton value={7} />\n            <CalcButton value={8} />\n            <CalcButton value={9} />\n            <CalcButton text='Multiply(*)' value=\"*\"additionalClass=\"operator\" />\n          </div>\n          <div className='calculator-inputs-row'>\n            <CalcButton value='clear' additionalClass=\"clear\"/>\n            <CalcButton value={0} />\n            <CalcButton value='=' additionalClass=\"equal\" />\n            <CalcButton text='Divide(/)' value=\"/\" additionalClass=\"operator\" />\n          </div>\n          <div className='calculator-inputs-row'>\n            <button value='scientificMode' className=\"scientificMode\" onClick={() => {this.setState({toggle:!this.state.toggle})}} >\n              Scientific Mode\n            </button>\n            <button id = \"sign\" value='sign' className=\"smode\" disabled= {this.state.toggle} onClick={() =>{this.props.signCalculation(this.props.result)}} >\n              Sign\n            </button>\n            <button id = \"scientific\" value='square' className=\"smode\" disabled= {this.state.toggle} onClick={() =>{this.props.squareCalculation(this.props.result)}} >\n              Square\n            </button>\n            <button id = \"scientific\" value='square_root' className=\"smode\" disabled= {this.state.toggle} onClick={() =>{this.props.squareRootCalculation(this.props.result)}}>\n              Square Root\n            </button>\n          </div>\n        </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateCalculation: (inputValue, currentState, currentResult) => dispatch(updateCalculation(inputValue, currentState, currentResult)),\n  clearCalculation: () => dispatch(clearCalculation()),\n  equalToCalculation: () => dispatch(equalToCalculation()),\n  signCalculation: (currentResult) => dispatch(signCalculation(currentResult)),\n  squareCalculation: (currentResult) => dispatch(squareCalculation(currentResult)),\n  squareRootCalculation: (currentResult) => dispatch(squareRootCalculation(currentResult))\n});\n\nconst mapStateToProps = (state) => ({\n  calculation: state.calculation,\n  result: state.result\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CalculatorComponent);\n"]},"metadata":{},"sourceType":"module"}